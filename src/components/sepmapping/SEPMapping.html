<!DOCTYPE html>

<html>
  <head>
    <title>vueplan SEP Page</title>
  </head>
  
  <body>
    <h2>SEP Module Mappings </h2>
    <br>
    
    <div id="app">
      <div id = "filters">
        <!-- Labels -->
        <label for="Pus">Filter by PU(s) and Course(s):</label>
        <label for="Courses"></label>
        <br>

        <!-- Filter by PU -->
        <select class = "puFilter" v-model='pus' multiple>
          <option :modules="modules" v-for="module in unique(modules, 'pu')">
            {{ module.pu }}
          </option>
        </select>

        <!-- Filter by Course -->
        <select class = "courseFilter" v-model='courses' multiple>
          <!-- retrieve data from props -->
          <option :allmajors="allmajors" v-for="(value, name) in allmajors">
            {{ name }}
          </option>
        </select>
        <br> <br>
      </div>

      <table :modules="modules" pus="pus" courses="courses">
        <!-- table header -->
        <thead>
          <tr>
            <th>Partner University</th>
            <th>NUS Module Code</th>
            <th>NUS Module Title</th>
            <th>MCs</th>
            <th>PU Module Code</th>
            <th>PU Module Title</th>
            <th>PU MCs</th>
          </tr>
        </thead>

        <!-- table body -->
        <tbody :modules="modules" pus="pus" courses="courses">
          <tr v-for="module in modules" v-show="relevant(allmajors, module.nusModuleCode) && pus.includes(module.pu)">
            <td>{{module.pu}}</td>
            <td>{{module.nusModuleCode}}</td>
            <td>{{module.nusModuleTitle}}</td>
            <td>{{module.mcs}}</td>
            <td>{{module.puModuleCode}}</td>
            <td>{{module.puModuleTitle}}</td>
            <td>{{module.puMcs}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
